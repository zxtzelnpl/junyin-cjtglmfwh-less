<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>资料上传</title>
    <meta name="viewport"
          content="width=device-width, initial-scale=1, maximum-scale=2, minimum-scale=1"/>
    <link rel="stylesheet" href="/mobile/libs/normalize-css/normalize.css">
    <link rel="stylesheet" href="/mobile/libs/jquery-toast-plugin/dist/jquery.toast.min.css">
    <link rel="stylesheet" href="/mobile/css/videoupload.css">
    <link rel="stylesheet" href="/mobile/css/iosStopFontScale.css">
    <link rel="stylesheet" href="/mobile/css/fontScale.css">
</head>
<body>
<form>
    <div class="container material-upload">
        <div class="prompt canScale">
            <h4>视频录音文字</h4>
            <p>本人<span>田雨橙</span>，身份证号码：<span>311111111111111111</span>，在<span class="red">君银投顾</span>对其投资顾问已作充分说明及风险揭示后，清楚投资顾问服务大的定位，对协议上的所有条款均确认无误并自愿签订协议。
            </p>
        </div>

        <div class="video">
            <div class="show-video" id="videoShow" style="display:block;">
                <!--<video id="myVideo" controls src="/test/video1.mp4">不支持</video>-->
                <video id="myVideo" controls src="http://zy.jyzqsz.com/upload/video/20180330/1689FD7BC19F514C.flv">
                </video>
            </div>
            <label class="upload-video">
                <input id="videoFile" type="file" accept="video/*">
                <img src="/mobile/img/icon_sc_video.png" alt="">
                <span>视频</span>
            </label>
        </div>

        <div class="blank-h-30"></div>

        <video id="showVideo" style="width:320px;height:180px;border:1px solid black;"></video>
        <canvas id="canvas" style="width:320px;height:180px;border:1px solid green;"></canvas>
        <div id="error" style="width:100px;height:30px;border:1px solid red;">

        </div>
        <div class="btn" id="btn">提交</div>
    </div>
</form>
</body>
<script src="/mobile/libs/jquery/dist/jquery.min.js"></script>
<script src="/mobile/libs/jquery-toast-plugin/dist/jquery.toast.min.js"></script>
<script src="/mobile/javascript/androidStopFontScale.js"></script>
<script src="/mobile/javascript/selfFontScale.js"></script>
<script>
  function toast(message) {
    $.toast({
      text: message,
      allowToastClose: false,
      showHideTransition: 'slide',
      position: 'bottom-center',
      hideAfter: 1500,
      stack: false,
      textAlign: 'center',
      loader: false
    })
  }


  $(function () {
    var errorBox = document.getElementById("error");
    var video = document.getElementById("showVideo");
    var canvas = document.getElementById("canvas");
    var videoObj = { audio: true,video:  { width: 1280, height: 720 } };

    function errBack(error){
      errorBox.innerHTML = error.message;
    }

    function getStream(stream){
      video.srcObject = stream;
      video.onloadedmetadata = function(e) {
        video.play();
      };
    }

    if (navigator.getUserMedia) { // Standard
      navigator.getUserMedia(videoObj,
        getStream
        , errBack);
    }
  })
</script>
</html>